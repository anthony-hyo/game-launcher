<div
	(click)="stateService.openModal(ModalType.NONE)"
	class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm"
>
	<div
		(click)="$event.stopPropagation()"
		class="w-full max-w-lg rounded-xl border border-white/10 bg-neutral-800 shadow-2xl light:border-black/10 light:bg-white"
	>
		<div class="flex items-center justify-between border-b border-white/10 p-6 light:border-black/10">
			<h2 class="text-2xl font-bold">Settings</h2>
			<button
				(click)="stateService.openModal(ModalType.NONE)"
				class="flex items-center justify-center bg-transparent text-gray-400 transition-colors hover:text-primary light:text-gray-400 light:hover:text-primary"
			>
				<span class="material-symbols-rounded">close</span>
			</button>
		</div>

		<div class="space-y-6 p-6">
			<div class="flex items-center justify-between">
				<div>
					<h3 class="font-semibold">Theme</h3>
					<p class="text-sm text-gray-400 light:text-gray-500">Switch between light and dark mode.</p>
				</div>
				<div class="flex items-center space-x-2">
					<button
						(click)="settings.toggleTheme()"
						class="flex h-10 w-10 items-center justify-center rounded-full bg-primary text-white"
					>
						<span
							[class.rotate-180]="settings.theme() === 'dark'"
							class="material-symbols-rounded transition-transform duration-300"
							>{{ settings.theme() === 'dark' ? 'dark_mode' : 'light_mode' }}</span
						>
					</button>
				</div>
			</div>

			<div class="flex items-center justify-between">
				<div>
					<h3 class="font-semibold">Discord Rich Presence</h3>
					<p class="text-sm text-gray-400 light:text-gray-500">Show your current game activity on Discord.</p>
				</div>

				<button
					(click)="settings.toggleDiscordRpc()"
					[class.bg-gray-400]="!settings.isDiscordRpcEnabled()"
					[class.bg-primary]="settings.isDiscordRpcEnabled()"
					class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-neutral-800 light:focus:ring-offset-white"
				>
					<span
						[class.translate-x-0]="!settings.isDiscordRpcEnabled()"
						[class.translate-x-5]="settings.isDiscordRpcEnabled()"
						class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
					></span>
				</button>
			</div>
		</div>

		<div
			class="rounded-b-xl border-t border-white/10 bg-neutral-900 px-6 py-4 text-right light:border-black/10 light:bg-gray-100"
		>
			<button
				(click)="stateService.openModal(ModalType.NONE)"
				class="rounded-lg bg-primary px-6 py-2 font-bold text-white transition-all hover:brightness-90"
			>
				Done
			</button>
		</div>
	</div>
</div>
